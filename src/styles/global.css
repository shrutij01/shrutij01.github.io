@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Newsreader:ital,wght@0,400;0,600;1,400&display=swap');
@import url('https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply scroll-smooth antialiased;
  }

  body {
    @apply bg-white text-zinc-800 dark:bg-zinc-950 dark:text-zinc-200;
    @apply transition-colors duration-300;
  }

  ::selection {
    @apply bg-purple-200 dark:bg-purple-800/50;
  }

  /* Smooth theme transition */
  *, *::before, *::after {
    @apply transition-colors duration-200;
  }
}

@layer components {
  .page-container {
    @apply max-w-3xl mx-auto px-6 sm:px-8;
  }

  .section-heading {
    @apply text-sm font-semibold uppercase tracking-widest
           text-zinc-400 dark:text-zinc-500 mb-6;
  }

  .link-underline {
    @apply underline decoration-purple-300 dark:decoration-purple-700
           underline-offset-4 hover:decoration-purple-500
           dark:hover:decoration-purple-400 transition-colors;
  }

  .tag {
    @apply inline-block text-xs font-medium px-2.5 py-0.5 rounded-full
           bg-zinc-100 text-zinc-600
           dark:bg-zinc-800 dark:text-zinc-400
           border border-zinc-200 dark:border-zinc-700;
  }

  .tag-active {
    @apply bg-purple-50 text-purple-700 border-purple-200
           dark:bg-purple-950 dark:text-purple-300 dark:border-purple-800;
  }

  .card {
    @apply p-5 rounded-lg
           border border-purple-100/60 dark:border-purple-800/20
           bg-gradient-to-br from-purple-50/30 to-amber-50/20
           dark:from-purple-950/20 dark:to-amber-950/10
           hover:border-purple-200 dark:hover:border-purple-700/40
           transition-all duration-200;
  }

  .btn-primary {
    @apply inline-flex items-center gap-2 px-4 py-2
           text-sm font-medium rounded-lg
           text-white transition-all;
    background: linear-gradient(135deg, #7c3aed, #9333ea, #a855f7);
    box-shadow: 0 2px 8px rgba(124, 58, 237, 0.25);
  }

  .btn-primary:hover {
    background: linear-gradient(135deg, #6d28d9, #7c3aed, #9333ea);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.35);
  }

  .dark .btn-primary {
    background: linear-gradient(135deg, #a855f7, #c084fc);
    color: #09090b;
    box-shadow: 0 2px 8px rgba(168, 85, 247, 0.2);
  }

  .dark .btn-primary:hover {
    background: linear-gradient(135deg, #c084fc, #d8b4fe);
    box-shadow: 0 4px 12px rgba(168, 85, 247, 0.3);
  }

  .btn-ghost {
    @apply inline-flex items-center gap-2 px-3 py-1.5
           text-sm font-medium rounded-lg
           text-zinc-600 dark:text-zinc-400
           hover:bg-purple-50 dark:hover:bg-purple-950/30
           hover:text-purple-700 dark:hover:text-purple-300
           transition-colors;
  }

  .paper-card {
    @apply p-8 rounded-xl relative;
    background: linear-gradient(135deg,
      rgb(250, 245, 255) 0%,
      rgb(255, 253, 250) 50%,
      rgb(254, 249, 239) 100%);
    box-shadow:
      0 1px 3px rgba(124, 58, 237, 0.06),
      0 4px 16px rgba(124, 58, 237, 0.04),
      inset 0 0 0 1px rgba(124, 58, 237, 0.1);
  }

  .dark .paper-card {
    background: linear-gradient(135deg,
      rgb(24, 18, 32) 0%,
      rgb(18, 18, 22) 50%,
      rgb(22, 20, 16) 100%);
    box-shadow:
      0 1px 3px rgba(0, 0, 0, 0.3),
      0 4px 16px rgba(0, 0, 0, 0.2),
      inset 0 0 0 1px rgba(168, 85, 247, 0.08);
  }

  /* Subtle shimmer overlay */
  .paper-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: linear-gradient(
      135deg,
      rgba(168, 85, 247, 0.03) 0%,
      transparent 40%,
      rgba(217, 179, 16, 0.03) 60%,
      transparent 100%
    );
    pointer-events: none;
  }

  .dark .paper-card::before {
    background: linear-gradient(
      135deg,
      rgba(168, 85, 247, 0.05) 0%,
      transparent 40%,
      rgba(217, 179, 16, 0.04) 60%,
      transparent 100%
    );
  }
}

/* Code block styling */
pre {
  @apply !rounded-lg !border !border-zinc-200 dark:!border-zinc-800;
}

/* KaTeX overrides for dark mode */
.dark .katex { color: theme('colors.zinc.200'); }
.dark .katex .mord { color: theme('colors.zinc.200'); }