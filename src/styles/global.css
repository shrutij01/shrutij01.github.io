@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Newsreader:ital,wght@0,400;0,600;1,400&display=swap');
@import url('https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply scroll-smooth antialiased;
  }

  body {
    @apply bg-white text-zinc-800 dark:bg-zinc-950 dark:text-zinc-200;
    @apply transition-colors duration-300;
  }

  ::selection {
    @apply bg-accent-200 dark:bg-accent-800/50;
  }

  /* Smooth theme transition */
  *, *::before, *::after {
    @apply transition-colors duration-200;
  }
}

@layer components {
  .page-container {
    @apply max-w-3xl mx-auto px-6 sm:px-8;
  }

  .section-heading {
    @apply text-sm font-semibold uppercase tracking-widest
           text-zinc-400 dark:text-zinc-500 mb-6;
  }

  .link-underline {
    @apply underline decoration-zinc-300 dark:decoration-zinc-600
           underline-offset-4 hover:decoration-accent-500
           dark:hover:decoration-accent-400 transition-colors;
  }

  .tag {
    @apply inline-block text-xs font-medium px-2.5 py-0.5 rounded-full
           bg-zinc-100 text-zinc-600
           dark:bg-zinc-800 dark:text-zinc-400
           border border-zinc-200 dark:border-zinc-700;
  }

  .tag-active {
    @apply bg-accent-50 text-accent-700 border-accent-200
           dark:bg-accent-950 dark:text-accent-300 dark:border-accent-800;
  }

  .card {
    @apply p-5 rounded-lg
           border border-zinc-200 dark:border-zinc-800
           bg-zinc-50/50 dark:bg-zinc-900/50
           hover:border-zinc-300 dark:hover:border-zinc-700
           transition-all duration-200;
  }

  .btn-primary {
    @apply inline-flex items-center gap-2 px-4 py-2
           text-sm font-medium rounded-lg
           bg-accent-600 text-white hover:bg-accent-700
           dark:bg-accent-500 dark:hover:bg-accent-400 dark:text-zinc-950
           transition-colors;
  }

  .btn-ghost {
    @apply inline-flex items-center gap-2 px-3 py-1.5
           text-sm font-medium rounded-lg
           text-zinc-600 dark:text-zinc-400
           hover:bg-zinc-100 dark:hover:bg-zinc-800
           transition-colors;
  }

  .paper-card {
    @apply p-8 rounded-lg relative;
    background: linear-gradient(to bottom right,
      rgb(254, 252, 248) 0%,
      rgb(250, 248, 244) 100%);
    box-shadow:
      0 1px 3px rgba(0, 0, 0, 0.05),
      0 4px 12px rgba(0, 0, 0, 0.03),
      inset 0 0 0 1px rgba(139, 92, 63, 0.08);
  }

  .dark .paper-card {
    background: linear-gradient(to bottom right,
      rgb(24, 24, 27) 0%,
      rgb(18, 18, 20) 100%);
    box-shadow:
      0 1px 3px rgba(0, 0, 0, 0.3),
      0 4px 12px rgba(0, 0, 0, 0.2),
      inset 0 0 0 1px rgba(255, 255, 255, 0.05);
  }

  /* Paper texture overlay */
  .paper-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background-image:
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(139, 92, 63, 0.01) 2px,
        rgba(139, 92, 63, 0.01) 4px
      );
    pointer-events: none;
  }

  .dark .paper-card::before {
    background-image:
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(255, 255, 255, 0.01) 2px,
        rgba(255, 255, 255, 0.01) 4px
      );
  }
}

/* Code block styling */
pre {
  @apply !rounded-lg !border !border-zinc-200 dark:!border-zinc-800;
}

/* KaTeX overrides for dark mode */
.dark .katex { color: theme('colors.zinc.200'); }
.dark .katex .mord { color: theme('colors.zinc.200'); }

/* Drop cap styling (lettrine-style) */
.drop-cap::first-letter {
  @apply float-left font-serif font-bold leading-none;
  @apply text-accent-600 dark:text-accent-400;
  font-family: 'Newsreader', Georgia, serif;
  font-size: 4.5rem;
  line-height: 0.8;
  margin-right: 0.5rem;
  margin-top: 0.15rem;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.dark .drop-cap::first-letter {
  text-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
}
