---
import BaseLayout from '../layouts/BaseLayout.astro';
import { publications, allTags } from '../data/publications';
---

<BaseLayout title="Publications — Your Name">
  <h1 class="text-2xl font-semibold text-zinc-900 dark:text-zinc-50 tracking-tight mb-2">
    Publications
  </h1>
  <p class="text-sm text-zinc-500 dark:text-zinc-400 mb-8">
    Filter by topic. Click BibTeX on any paper to copy the citation.
  </p>

  <!-- Hydrated React component for interactivity -->
  <div id="pub-list">
    <noscript>
      {publications.map((pub) => (
        <div class="py-4 border-b border-zinc-100 dark:border-zinc-800">
          <h3 class="font-medium">{pub.title}</h3>
          <p class="text-sm text-zinc-500">{pub.authors} · {pub.venue} · {pub.year}</p>
        </div>
      ))}
    </noscript>
  </div>
</BaseLayout>

<script>
  import { createElement } from 'react';
  import { createRoot } from 'react-dom/client';
  import PublicationList from '../components/PublicationList';
  import { publications, allTags } from '../data/publications';

  const el = document.getElementById('pub-list');
  if (el) {
    createRoot(el).render(
      createElement(PublicationList, { publications, allTags })
    );
  }
</script>
